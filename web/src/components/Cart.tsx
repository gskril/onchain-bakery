import Link from 'next/link'
import { useIsMounted } from 'usehooks-ts'

import { useCart } from '@/hooks/useCart'

export function Cart() {
  const { cart } = useCart()
  const isMounted = useIsMounted()

  if (!isMounted()) return null

  return (
    <Link
      href="/cart"
      className="bg-brand-background-primary border-brand-primary fixed right-4 top-4 z-10 flex h-16 w-16 flex-col items-center justify-center rounded-lg border p-2 shadow-md"
    >
      {cart.length > 0 ? <Filled /> : <Empty />}
    </Link>
  )
}

function Filled() {
  return (
    <svg
      width="67"
      height="53"
      viewBox="0 0 67 53"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-full"
    >
      <path
        d="M15.3942 12.8696C23.7667 12.8696 34.896 12.8696 43.2686 12.8696C47.313 12.8696 51.3793 12.7248 55.4117 13.0665C57.3706 13.2325 60.5924 12.6371 61.3847 14.9263C62.7688 18.9247 53.7669 41.3386 47.9945 39.5625C43.5501 38.195 38.1141 39.6501 33.5103 39.6501C28.5894 39.6501 25.5 40 20.5 40C19.3523 40 17.609 37.279 17.3633 36.4119C16.309 32.6909 15.4395 28.2343 15.3942 24.3344C15.345 20.1063 14.9315 16.6066 12.7249 12.9571C11.0613 10.2059 8.30282 8.19261 6.81741 5.38685C5.86433 3.58657 2.3726 6.10026 2.09145 7.44352C1.29196 11.2633 7.74958 10.6248 10.5 12C12.0257 12.7629 12.7249 16 12.7249 18"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M48.2882 40C47.529 41.6134 48.4878 43.5656 48.6821 45.1198C48.7838 45.9339 50.5701 45.4682 50.9575 45.0323C51.335 44.6076 49.6337 43.7305 49.0759 44.0258C47.1978 45.0201 48.5372 49.9127 50.9575 49.6707C51.5436 49.6121 51.9093 47.4283 51.7452 47.0014C51.3601 46.0002 49.2038 45.2579 48.6821 46.3013"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M21.3938 41C21.3938 42.5336 21.7877 43.9978 21.7877 45.529C21.7877 46.773 21.2113 49.1555 23.1661 48.8547C24.3313 48.6755 25.094 47.717 24.457 46.5136C23.8543 45.3753 21 46.5816 21 47.6951"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M31.5017 29C30.0658 22.4834 37.1419 17.3516 41.2785 14.2042C45.4866 11.0024 49.7202 7.8565 53.9467 4.68664C55.7464 3.33683 65.0433 -0.975944 64.1425 4.68664C62.813 13.0432 52.1444 19.98 45.5231 23.8749C41.8725 26.0223 38.4107 28.9584 34.6928 30.8982C32.1922 32.2028 32.0657 31.4834 31.5017 29ZM31.5017 29C31.5017 26.6093 31.8032 24.1579 33.3581 22.1246C34.1634 21.0714 35.1268 20.1519 36.5306 20.3961C37.6014 20.5823 40.63 21.7365 40.9722 22.9341C41.4929 24.7566 37.7254 19.6999 38.3247 17.9018C39.166 15.3779 46.1824 16.0859 48.2142 16.5015C49.6472 16.7946 48.2195 20.0427 47.9079 15.8889C47.7377 13.6193 47.4789 7.59929 50.8617 10.3315C51.2518 10.6467 52.6956 12.6479 53.1152 12.6945C53.2587 12.7104 53.1964 10.5622 53.2028 10.419C53.3502 7.10211 55.7106 8.14359 57.9287 8.14359"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M29.5713 3.02351C26.2101 5.35051 23 9.20532 22.0885 13.3068C21.5115 15.9033 21.5651 17.9921 22.8762 20.352C24.2659 22.8535 27.4214 20.3853 28.9805 19.5425C32.5028 17.6386 39.5093 8.52838 36.6602 3.89869C35.6166 2.20286 28.1508 1.53241 27.2083 3.41734"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M27.6016 7.35547C28.5557 7.46148 29.9645 7.84682 29.9645 8.93079"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M26 11C26.7838 11 27.2754 11.0469 27.9691 11.3938"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M24 15C24.7838 15 25.2754 15.0469 25.9691 15.3938"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
    </svg>
  )
}

function Empty() {
  return (
    <svg
      width="67"
      height="53"
      viewBox="0 0 67 53"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-full"
    >
      <path
        d="M15.3942 12.8696C23.7667 12.8696 34.896 12.8696 43.2686 12.8696C47.313 12.8696 51.3793 12.7248 55.4117 13.0665C57.3706 13.2325 60.5924 12.6371 61.3847 14.9263C62.7688 18.9247 53.7669 41.3386 47.9945 39.5625C43.5501 38.195 38.1141 39.6501 33.5103 39.6501C28.5894 39.6501 25.5 40 20.5 40C19.3523 40 17.609 37.279 17.3633 36.4119C16.309 32.6909 15.4395 28.2343 15.3942 24.3344C15.345 20.1063 14.9315 16.6066 12.7249 12.9571C11.0613 10.2059 8.30282 8.19261 6.81741 5.38685C5.86433 3.58657 2.3726 6.10026 2.09145 7.44352C1.29196 11.2633 7.74958 10.6248 10.5 12C12.0257 12.7629 12.7249 16 12.7249 18"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M48.2882 40C47.529 41.6134 48.4878 43.5656 48.6821 45.1198C48.7838 45.9339 50.5701 45.4682 50.9575 45.0323C51.335 44.6076 49.6337 43.7305 49.0759 44.0258C47.1978 45.0201 48.5372 49.9127 50.9575 49.6707C51.5436 49.6121 51.9093 47.4283 51.7452 47.0014C51.3601 46.0002 49.2038 45.2579 48.6821 46.3013"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
      <path
        d="M21.3938 41C21.3938 42.5336 21.7877 43.9978 21.7877 45.529C21.7877 46.773 21.2113 49.1555 23.1661 48.8547C24.3313 48.6755 25.094 47.717 24.457 46.5136C23.8543 45.3753 21 46.5816 21 47.6951"
        stroke="#0033E6"
        strokeWidth="2.09562"
        strokeLinecap="round"
      />
    </svg>
  )
}
